<!DOCTYPE html>
<html>
    <head>
        <title>Named Entity Recognition Tool</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='/styles/index.css') }}">
    </head>
    <body>
        <script src="https://unpkg.com/htmx.org@1.9.12"></script>

        <h1>Named Entity Recognition Tool</h1>
        <h2>For abbreviation and long form recognition</h2>

        <div class="introduction">
            <div class="intro_input">
                <p>Enter the input for the model in the form of a single word, a sentence or a text document</p>
            </div>
            <div class="intro_model">
                <p>Select a model to use for named entity recognition and use generate to perform it</p>
            </div>
            <div class="intro_output">
                <p>Outputs the words with recognised tags for abbreviations and long forms</p>
            </div>
        </div>

        <p>Paste text into the text area </p>

        <div class="model_selection">
            <label for="ai_models">Select a model to recognise with</label>

            <select name="ai_models" id="ai_models">
                <option value="spaCy">spaCy</option>
                <option value="DistilBERT">DistilBERT</option>
            </select>
        </div>
        

        <div class="tabs">
            <button class="tab-links" onclick="openTab(event, 'text-input')">Text Input</button>
            <button class="tab-links" onclick="openTab(event, 'pdf-input')">PDF Input</button>
        </div>
        <div class="tab-content-container">
            <div class="tab-content" id="text-input" style="display: block;">
                <h3>Input Text</h3>
                
                <!-- <button onclick="generateTagsText(event, 'input_text')">Generate Tags</button> -->
                <form hx-post="/get_tags" hx-swap="outerHTML">
                    <select name="ai_models" id="ai_models">
                        <option value="spaCy">spaCy</option>
                        <option value="DistilBERT">DistilBERT</option>
                    </select>
                    <textarea id="input_text" name="input_text"></textarea>
                    <button>Press me</button>
                </form>
                
            </div>
            <div class="tab-content" id="pdf-input" style="display: none;">
                <h3>Input PDF</h3>
                <input type="file" id="pdf-input-field" name="pdf-input-field" accept="application/pdf" />
                <button onclick="generateTagsFile(event, 'pdf-input-field')">Generate Tags</button>
            </div>
            
        </div>
        <div class="output_area">
            <h3>Output Text</h3>
            <textarea id="output_text"></textarea>
        </div>
        

        

        <script>
            function generateTagsText(event, elem_id) {
                let text_elem = document.getElementById(elem_id);
                let text_value = text_elem.value
            }

            function generateTagsFile(event, elem_id) {
                let text_elem = document.getElementById(elem_id);
                console.log(text_elem.value)
            }

            function openTab(evt, tabName) {
                var i, tabcontent, tablinks;
                tabcontent = document.getElementsByClassName("tab-content");
                for (i = 0; i < tabcontent.length; i++) {
                    tabcontent[i].style.display = "none";
                }
                tablinks = document.getElementsByClassName("tab-links");
                for (i = 0; i < tablinks.length; i++) {
                    tablinks[i].className = tablinks[i].className.replace(" active", "");
                }
                document.getElementById(tabName).style.display = "block";
                evt.currentTarget.className += " active";
            }
        </script>

    </body>
</html>